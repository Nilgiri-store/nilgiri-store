<!DOCTYPE html>
<html lang="hi">
<head>
  <meta charset="UTF-8">
  <title>Admin Panel</title>
  <script src="https://www.gstatic.com/firebasejs/9.6.1/firebase-app.js"></script>
  <script src="https://www.gstatic.com/firebasejs/9.6.1/firebase-firestore.js"></script>
</head>
<body>
  <h2>Admin Panel</h2>
  <input type="text" id="pname" placeholder="Product Name">
  <input type="text" id="pprice" placeholder="Product Price">
  <button onclick="addProduct()">Add Product</button>

  <h3>Product List</h3>
  <ul id="plist"></ul>

<script>
  // Firebase Config (अपना config यहां डालें)
  const firebaseConfig = {
    apiKey: "AIzaSy....",
    authDomain: "yourapp.firebaseapp.com",
    projectId: "yourapp",
  };
  const app = firebase.initializeApp(firebaseConfig);
  const db = firebase.firestore();

  // Product Add
  async function addProduct(){
    let name = document.getElementById("pname").value;
    let price = document.getElementById("pprice").value;

    await db.collection("products").add({
      name: name,
      price: price
    });

    alert("✅ Product Added!");
  }

  // Real-time Product List (Admin को भी दिखे)
  db.collection("products").onSnapshot(snapshot=>{
    let list = document.getElementById("plist");
    list.innerHTML = "";
    snapshot.forEach(doc=>{
      let li = document.createElement("li");
      li.textContent = doc.data().name + " - ₹" + doc.data().price;
      let delBtn = document.createElement("button");
      delBtn.textContent = "❌ Delete";
      delBtn.onclick = ()=>db.collection("products").doc(doc.id).delete();
      li.appendChild(delBtn);
      list.appendChild(li);
    });
  });
</script>
</body>
</html>